document.addEventListener("DOMContentLoaded",function(e){let t=document.querySelectorAll(".quantity__button"),n=document.querySelectorAll(".cart-remove-button"),r=document.querySelector(".cart-message__shipping--met"),c=document.querySelector(".cart-message__shipping--not-met"),o=document.querySelector(".cart__threshold-messages"),l=document.getElementById("amountAway"),i=document.getElementById("amountNeeded")?.innerHTML;function s(){l.classList.add("opacity-transition");let e=document.querySelector(".js-contents.totals__container"),t=new MutationObserver((e,t)=>{$.ajax({type:"GET",url:"/cart.js",cache:!1,dataType:"json",success:function(e){let t=function(e){let t=String(e);return t.substring(0,t.length-2)+"."+t.substring(t.length-2)}(e.total_price);if(Number(t)>=Number(i))r.classList.remove("hidden"),c.classList.add("hidden");else if(Number(t)<Number(i)&&0!=Number(t)){let e=Number(i)-Number(t);l.innerHTML=e.toFixed(2),l.classList.remove("opacity-transition"),c.classList.remove("hidden"),r.classList.add("hidden")}else Number(t)<=0&&o.classList.add("hidden")}});let n=document.querySelectorAll(".quantity__button"),u=document.querySelectorAll(".cart-remove-button");null!=n&&n.forEach(e=>{if(e.addEventListener("click",s),e.style.pointerEvents){e.parentNode.parentNode.parentNode.style.visibility="hidden"}}),null!=u&&u.forEach(e=>{e.addEventListener("click",s)})});t.observe(e,{attributes:!0,childList:!0,subtree:!0})}null!=t&&t.forEach(e=>{e.addEventListener("click",s)}),null!=n&&n.forEach(e=>{e.addEventListener("click",s)});let u=document.querySelector(".content-for-layout"),a=new MutationObserver(function(e){e.forEach(function(e){let t=document.querySelectorAll(".quantity__button"),n=document.querySelectorAll(".cart-remove-button");null!=t&&t.forEach(e=>{e.addEventListener("click",s)}),null!=n&&n.forEach(e=>{e.addEventListener("click",s)})})});a.observe(u,{attributes:!0,childList:!0,characterData:!0})});